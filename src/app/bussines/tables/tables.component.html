<div class="container mx-auto p-4">
  <!-- Tabla de Libros -->
  <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
    <h2 class="text-xl font-semibold mb-4">Libros</h2>
    <div class="overflow-x-auto">
      <table class="min-w-full text-left">
        <thead>
          <tr class="text-gray-500 border-b">
            <th class="p-4 font-semibold">Título</th>
            <th class="p-4 font-semibold">ISBN</th>
            <th class="p-4 font-semibold">Estado</th>
            <th class="p-4 font-semibold">Condición</th>
            <th class="p-4 font-semibold">
              <button (click)="openCreateModal()" class="text-green-500 hover:text-green-700" >
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14" id="Browser-Add--Streamline-Core-Gradient" height="14" width="14" stroke-width="1"><desc>Browser Add Streamline Icon: https://streamlinehq.com</desc><g id="Free Gradient/Programming/browser-add--app-code-apps-add-window-plus"><path id="Union" fill="url(#paint0_linear_14402_11620)" fill-rule="evenodd" d="M2 3.51562v8.31128c0 .0956.07749.1731.17308.1731h9.65382c.0956 0 .1731-.0775.1731-.1731V3.51562H2ZM2.17308.5C1.24906.5.5 1.24906.5 2.17308v9.65382c0 .924.74906 1.6731 1.67308 1.6731h9.65382c.924 0 1.6731-.7491 1.6731-1.6731V2.17308C13.5 1.24906 12.7509.5 11.8269.5H2.17308ZM4 7.75c0-.41421.33579-.75.75-.75h1.5V5.5c0-.41421.33579-.75.75-.75s.75.33579.75.75V7h1.5c.41421 0 .75.33579.75.75s-.33579.75-.75.75h-1.5V10c0 .4142-.33579.75-.75.75s-.75-.3358-.75-.75V8.5h-1.5c-.41421 0-.75-.33579-.75-.75Z" clip-rule="evenodd"></path></g><defs><linearGradient id="paint0_linear_14402_11620" x1="1" x2="15.816" y1="1.551" y2="9.901" gradientUnits="userSpaceOnUse"><stop stop-color="#00d078"></stop><stop offset="1" stop-color="#007df0"></stop></linearGradient></defs></svg>
                <i class="fas fa-plus"></i> 
              </button>
            </th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let libro of libros" class="border-b">
            <td class="p-4">{{ libro.titulo }}</td>
            <td class="p-4">{{ libro.isbn }}</td>
            <td class="p-4">{{ libro.estado ? 'Activo' : 'Inactivo' }}</td>
            <td class="p-4">{{ libro.condicion }}</td>
            <!-- Nueva columna para el botón, alineado a la derecha -->
            <td class="p-4 text-right">
              <button (click)="openEditModal(libro)"  class="text-green-500 hover:text-green-700">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14" height="14" width="14" stroke-width="1">
                  <desc>Clipboard Add Streamline Icon</desc>
                  <g id="Free Gradient/Interface Essential/clipboard-add--edit-task-edition-add-clipboard-form">
                    <path id="Subtract" fill="url(#paint0_linear_14402_9440)" fill-rule="evenodd" d="M8.25 2.5h-2.5c-.69036 0-1.25-.55964-1.25-1.25C4.5.559644 5.05964 0 5.75 0h2.5C8.94036 0 9.5.559644 9.5 1.25c0 .69036-.55964 1.25-1.25 1.25Zm-2.5 1.25h2.5c1.38071 0 2.5-1.11929 2.5-2.5 0-.08437-.0042-.16777-.0123-.25H11.5c.8284 0 1.5.67157 1.5 1.5v10c0 .8284-.6716 1.5-1.5 1.5h-9c-.82843 0-1.5-.6716-1.5-1.5v-10C1 1.67157 1.67157 1 2.5 1h.76234c-.00816.08223-.01234.16563-.01234.25 0 1.38071 1.11929 2.5 2.5 2.5ZM7 5.5c.41421 0 .75.33579.75.75V8H9.5c.41421 0 .75.33579.75.75s-.33579.75-.75.75H7.75v1.75c0 .4142-.33579.75-.75.75s-.75-.3358-.75-.75V9.5H4.5c-.41421 0-.75-.33579-.75-.75S4.08579 8 4.5 8h1.75V6.25c0-.41421.33579-.75.75-.75Z" clip-rule="evenodd"></path>
                  </g>
                  <defs>
                    <linearGradient id="paint0_linear_14402_9440" x1="14.04" x2="-3.727" y1="16.965" y2="6.148" gradientUnits="userSpaceOnUse">
                      <stop stop-color="#ffd600"></stop>
                      <stop offset="1" stop-color="#ff007a"></stop>
                    </linearGradient>
                  </defs>
                </svg>
                <i class="fas fa-plus"></i> 
              </button>
            </td>
            <td class="p-4 text-right">
              <button (click)="deleteLibro()" class="text-green-500 hover:text-green-700">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14" id="Recycle-Bin-2--Streamline-Core-Gradient" height="14" width="14" stroke-width="1"><desc>Recycle Bin 2 Streamline Icon: https://streamlinehq.com</desc><g id="Free Gradient/Interface Essential/recycle-bin-2--remove-delete-empty-bin-trash-garbage"><path id="Subtract" fill="url(#paint0_linear_14402_8376)" fill-rule="evenodd" d="M5.76256 2.0125c.32819-.32819.77331-.51256 1.23744-.51256.46413 0 .90925.18437 1.23744.51256.20736.20737.35731.46141.43961.73744h-3.3541c.0823-.27603.23225-.53007.43961-.73744Zm-1.97388.73744c.10537-.67679.42285-1.30773.91322-1.798098C5.3114.342349 6.13805-.0000610352 7-.0000610352c.86195 0 1.6886.3424100352 2.2981.9519030352.49037.490368.8079 1.121308.9132 1.798098H12.75c.4142 0 .75.33579.75.75s-.3358.75-.75.75H12v8.24996c0 .3979-.158.7794-.4393 1.0607s-.6629.4393-1.0607.4393h-7c-.39783 0-.77936-.158-1.06066-.4393C2.15804 13.2793 2 12.8978 2 12.4999V4.24994h-.75c-.414214 0-.75-.33579-.75-.75s.335786-.75.75-.75h2.53868ZM5.25 5.8764c.34518 0 .625.27983.625.625v4.0015c0 .3452-.27982.625-.625.625s-.625-.2798-.625-.625V6.5014c0-.34517.27982-.625.625-.625Zm4.125.625c0-.34517-.27982-.625-.625-.625s-.625.27983-.625.625v4.0015c0 .3452.27982.625.625.625s.625-.2798.625-.625V6.5014Z" clip-rule="evenodd"></path></g><defs><linearGradient id="paint0_linear_14402_8376" x1="1" x2="16.325" y1="1.131" y2="9.152" gradientUnits="userSpaceOnUse"><stop stop-color="#00d078"></stop><stop offset="1" stop-color="#007df0"></stop></linearGradient></defs></svg>
                <i class="fas fa-plus"></i> 
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

 <!-- Modal para crear o editar libro -->
<div *ngIf="isModalOpen" class="fixed inset-0 bg-gray-600 bg-opacity-50 flex justify-center items-center z-50">
  <div class="bg-white p-6 rounded-lg shadow-lg w-1/3">
    <app-mantenimiento-libro
      [precioVenta]="precioVenta"
      [Stock]="Stock"
      [libro]="libroSeleccionado || { idLibro: 0, titulo: '', isbn: undefined, tamanno: '', descripcion: '', condicion: '', impresion: '', tipoTapa: '', estado: true, idSubcategoria: 0, idTipoPapel: 0, idProveedor: 0, imagen: '' }"
      (close)="closeModal()">
    </app-mantenimiento-libro>
  </div>
</div>
    
    <!-- Botones de paginación -->
    <div class="flex justify-between items-center mt-4">
      <button 
        (click)="prevPage()" 
        [disabled]="currentPage === 1" 
        class="px-4 py-2 bg-gray-300 text-gray-700 rounded disabled:opacity-50">
        Anterior
      </button>
      <span class="text-gray-500">Página {{ currentPage }}</span>
      <button 
        (click)="nextPage()" 
        class="px-4 py-2 bg-blue-500 text-white rounded">
        Siguiente
      </button>
    </div>
  </div>
</div>

<!-- Contenedor principal ajustado -->
<div class="bg-white rounded-lg shadow-lg p-6 mb-6 overflow-x-auto max-w-2xl mx-auto">
  <h2 class="text-xl font-semibold mb-4">Sub Categorías</h2>
  <table class="min-w-full table-auto text-left border-collapse">
    <thead>
      <tr class="text-gray-500 border-b">
        <th class="px-4 py-2 font-semibold">ID</th>
        <th class="px-4 py-2 font-semibold">DESCRIPCION</th>
        <th class="px-4 py-2 font-semibold">CATEGORIA</th>
        <th class="p-4 font-semibold">
          <button class="text-green-500 hover:text-green-700" >
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14" id="Browser-Add--Streamline-Core-Gradient" height="14" width="14" stroke-width="1"><desc>Browser Add Streamline Icon: https://streamlinehq.com</desc><g id="Free Gradient/Programming/browser-add--app-code-apps-add-window-plus"><path id="Union" fill="url(#paint0_linear_14402_11620)" fill-rule="evenodd" d="M2 3.51562v8.31128c0 .0956.07749.1731.17308.1731h9.65382c.0956 0 .1731-.0775.1731-.1731V3.51562H2ZM2.17308.5C1.24906.5.5 1.24906.5 2.17308v9.65382c0 .924.74906 1.6731 1.67308 1.6731h9.65382c.924 0 1.6731-.7491 1.6731-1.6731V2.17308C13.5 1.24906 12.7509.5 11.8269.5H2.17308ZM4 7.75c0-.41421.33579-.75.75-.75h1.5V5.5c0-.41421.33579-.75.75-.75s.75.33579.75.75V7h1.5c.41421 0 .75.33579.75.75s-.33579.75-.75.75h-1.5V10c0 .4142-.33579.75-.75.75s-.75-.3358-.75-.75V8.5h-1.5c-.41421 0-.75-.33579-.75-.75Z" clip-rule="evenodd"></path></g><defs><linearGradient id="paint0_linear_14402_11620" x1="1" x2="15.816" y1="1.551" y2="9.901" gradientUnits="userSpaceOnUse"><stop stop-color="#00d078"></stop><stop offset="1" stop-color="#007df0"></stop></linearGradient></defs></svg>
            <i class="fas fa-plus"></i> 
          </button>
        </th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let subCategoria of subCategoriasPaginas" class="border-b">
        <td class="px-4 py-2">{{ subCategoria.id }}</td>
        <td class="px-4 py-2">{{ subCategoria.descripcion }}</td>
        <td class="px-4 py-2">{{ categoriasMap.get(subCategoria.idCategoria) }}</td>
        <td class="p-4 text-right">
          <button (click)="editListSubCategoria()" class="text-green-500 hover:text-green-700">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14" height="14" width="14" stroke-width="1">
              <desc>Clipboard Add Streamline Icon</desc>
              <g id="Free Gradient/Interface Essential/clipboard-add--edit-task-edition-add-clipboard-form">
                <path id="Subtract" fill="url(#paint0_linear_14402_9440)" fill-rule="evenodd" d="M8.25 2.5h-2.5c-.69036 0-1.25-.55964-1.25-1.25C4.5.559644 5.05964 0 5.75 0h2.5C8.94036 0 9.5.559644 9.5 1.25c0 .69036-.55964 1.25-1.25 1.25Zm-2.5 1.25h2.5c1.38071 0 2.5-1.11929 2.5-2.5 0-.08437-.0042-.16777-.0123-.25H11.5c.8284 0 1.5.67157 1.5 1.5v10c0 .8284-.6716 1.5-1.5 1.5h-9c-.82843 0-1.5-.6716-1.5-1.5v-10C1 1.67157 1.67157 1 2.5 1h.76234c-.00816.08223-.01234.16563-.01234.25 0 1.38071 1.11929 2.5 2.5 2.5ZM7 5.5c.41421 0 .75.33579.75.75V8H9.5c.41421 0 .75.33579.75.75s-.33579.75-.75.75H7.75v1.75c0 .4142-.33579.75-.75.75s-.75-.3358-.75-.75V9.5H4.5c-.41421 0-.75-.33579-.75-.75S4.08579 8 4.5 8h1.75V6.25c0-.41421.33579-.75.75-.75Z" clip-rule="evenodd"></path>
              </g>
              <defs>
                <linearGradient id="paint0_linear_14402_9440" x1="14.04" x2="-3.727" y1="16.965" y2="6.148" gradientUnits="userSpaceOnUse">
                  <stop stop-color="#ffd600"></stop>
                  <stop offset="1" stop-color="#ff007a"></stop>
                </linearGradient>
              </defs>
            </svg>
            <i class="fas fa-plus"></i> 
          </button>
        </td>
        <td class="p-4 text-right">
          <button (click)="deleteSubCategoria()" class="text-green-500 hover:text-green-700">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14" id="Recycle-Bin-2--Streamline-Core-Gradient" height="14" width="14" stroke-width="1"><desc>Recycle Bin 2 Streamline Icon: https://streamlinehq.com</desc><g id="Free Gradient/Interface Essential/recycle-bin-2--remove-delete-empty-bin-trash-garbage"><path id="Subtract" fill="url(#paint0_linear_14402_8376)" fill-rule="evenodd" d="M5.76256 2.0125c.32819-.32819.77331-.51256 1.23744-.51256.46413 0 .90925.18437 1.23744.51256.20736.20737.35731.46141.43961.73744h-3.3541c.0823-.27603.23225-.53007.43961-.73744Zm-1.97388.73744c.10537-.67679.42285-1.30773.91322-1.798098C5.3114.342349 6.13805-.0000610352 7-.0000610352c.86195 0 1.6886.3424100352 2.2981.9519030352.49037.490368.8079 1.121308.9132 1.798098H12.75c.4142 0 .75.33579.75.75s-.3358.75-.75.75H12v8.24996c0 .3979-.158.7794-.4393 1.0607s-.6629.4393-1.0607.4393h-7c-.39783 0-.77936-.158-1.06066-.4393C2.15804 13.2793 2 12.8978 2 12.4999V4.24994h-.75c-.414214 0-.75-.33579-.75-.75s.335786-.75.75-.75h2.53868ZM5.25 5.8764c.34518 0 .625.27983.625.625v4.0015c0 .3452-.27982.625-.625.625s-.625-.2798-.625-.625V6.5014c0-.34517.27982-.625.625-.625Zm4.125.625c0-.34517-.27982-.625-.625-.625s-.625.27983-.625.625v4.0015c0 .3452.27982.625.625.625s.625-.2798.625-.625V6.5014Z" clip-rule="evenodd"></path></g><defs><linearGradient id="paint0_linear_14402_8376" x1="1" x2="16.325" y1="1.131" y2="9.152" gradientUnits="userSpaceOnUse"><stop stop-color="#00d078"></stop><stop offset="1" stop-color="#007df0"></stop></linearGradient></defs></svg>
            <i class="fas fa-plus"></i> 
          </button>
        </td>
      </tr>
    </tbody>
  </table>

  <div class="mt-4 flex justify-between">
    <button (click)="prevPageSubCategorias()" [disabled]="currentPageSubCategorias === 1" class="px-4 py-2 bg-blue-500 text-white rounded">Anterior</button>
    <span class="text-gray-500">Página {{ currentPageSubCategorias }}</span>
    <button (click)="nextPageSubCategorias()" [disabled]="currentPageSubCategorias * pageSize >= totalSubCategorias" class="px-4 py-2 bg-blue-500 text-white rounded">Siguiente</button>
  </div>
</div>
